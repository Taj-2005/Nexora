(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,67881,e=>{"use strict";var r=e.i(43476);let t={primary:"bg-accent text-on-accent hover:bg-accent/90 active:bg-accent/80 focus-visible:ring-accent",secondary:"bg-muted text-primary hover:bg-muted/80 active:bg-muted/70 focus-visible:ring-accent",ghost:"text-primary hover:bg-muted active:bg-muted/80 focus-visible:ring-accent",outline:"border-2 border-border bg-surface text-primary hover:bg-muted focus-visible:ring-accent"},s={sm:"h-10 px-4 text-sm rounded-[var(--radius-sm)]",md:"h-12 px-6 text-base rounded-[var(--radius)]",lg:"h-14 px-8 text-lg rounded-[var(--radius)]"};function i({variant:e="primary",size:i="md",className:a="",children:d,...n}){return(0,r.jsx)("button",{type:"button",className:`inline-flex items-center justify-center font-medium transition-colors focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 disabled:pointer-events-none disabled:opacity-50 ${t[e]} ${s[i]} ${a}`,...n,children:d})}e.s(["Button",()=>i])},37496,e=>{"use strict";var r=e.i(43476),t=e.i(71645),s=e.i(18566),i=e.i(38938);function a({children:e,requiredRole:a,fallback:n=null}){let o=(0,s.useRouter)(),l=(0,s.usePathname)(),{user:c,isAuthenticated:u,isInitialized:m,isLoading:b}=(0,i.useAuth)(),f=!a||!!c&&(Array.isArray(a)?a:[a]).includes(c.role);return((0,t.useEffect)(()=>{if(m){if(!u)return void o.replace(`/login?redirect=${encodeURIComponent(l??"/")}`);if(!f)return void o.replace(c?.role==="customer"?"/home":"/admin")}},[m,u,f,l,o,c?.role]),m&&!b&&u&&f)?(0,r.jsx)(r.Fragment,{children:e}):n??(0,r.jsx)(d,{})}function d(){return(0,r.jsxs)("div",{className:"flex min-h-[50vh] items-center justify-center bg-muted/30",children:[(0,r.jsx)("div",{className:"h-8 w-8 animate-spin rounded-full border-2 border-accent border-t-transparent","aria-hidden":!0}),(0,r.jsx)("span",{className:"sr-only",children:"Loadingâ€¦"})]})}e.s(["ProtectedRoute",()=>a])},2153,e=>{"use strict";var r=e.i(43476),t=e.i(71645),s=e.i(38938),i=e.i(37496),a=e.i(16128),d=e.i(67881);function n(){let{user:e}=(0,s.useAuth)(),[i,n]=(0,t.useState)(e?.fullName??""),[o,l]=(0,t.useState)(!1);return(0,r.jsxs)(a.Container,{as:"div",className:"py-8 lg:py-12",children:[(0,r.jsx)("h1",{className:"font-heading text-3xl font-bold tracking-tight text-primary",children:"Profile"}),(0,r.jsx)("p",{className:"mt-2 text-muted-foreground",children:"Manage your account and preferences."}),(0,r.jsxs)("div",{className:"mt-8 grid gap-8 lg:grid-cols-3",children:[(0,r.jsxs)("section",{className:"rounded-[var(--radius-lg)] border border-border bg-surface p-6 lg:col-span-2","aria-labelledby":"profile-heading",children:[(0,r.jsx)("h2",{id:"profile-heading",className:"font-heading text-xl font-semibold text-primary",children:"Edit profile"}),(0,r.jsxs)("form",{onSubmit:e=>{e.preventDefault(),l(!0),setTimeout(()=>l(!1),3e3)},className:"mt-6 space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"profile-email",className:"block text-sm font-medium text-primary",children:"Email"}),(0,r.jsx)("input",{id:"profile-email",type:"email",value:e?.email??"",disabled:!0,className:"mt-1 block w-full rounded-[var(--radius-sm)] border border-border bg-muted px-4 py-3 text-muted-foreground"}),(0,r.jsx)("p",{className:"mt-1 text-xs text-muted-foreground",children:"Email cannot be changed."})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"profile-name",className:"block text-sm font-medium text-primary",children:"Full name"}),(0,r.jsx)("input",{id:"profile-name",type:"text",value:i,onChange:e=>n(e.target.value),className:"mt-1 block w-full rounded-[var(--radius-sm)] border border-border bg-surface px-4 py-3 text-primary focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:ring-accent"})]}),(0,r.jsx)(d.Button,{type:"submit",disabled:o,children:o?"Saved":"Save changes"})]})]}),(0,r.jsxs)("aside",{className:"space-y-6",children:[(0,r.jsxs)("section",{className:"rounded-[var(--radius-lg)] border border-border bg-surface p-6","aria-labelledby":"password-heading",children:[(0,r.jsx)("h2",{id:"password-heading",className:"font-heading text-lg font-semibold text-primary",children:"Change password"}),(0,r.jsx)("p",{className:"mt-2 text-sm text-muted-foreground",children:"Update your password from the security page."}),(0,r.jsx)("a",{href:"/login",className:"mt-4 inline-flex h-12 items-center justify-center rounded-[var(--radius)] border-2 border-border bg-surface px-6 font-medium text-primary hover:bg-muted focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:ring-accent",children:"Go to login"})]}),(0,r.jsxs)("section",{className:"rounded-[var(--radius-lg)] border border-border bg-surface p-6","aria-labelledby":"address-heading",children:[(0,r.jsx)("h2",{id:"address-heading",className:"font-heading text-lg font-semibold text-primary",children:"Addresses"}),(0,r.jsx)("p",{className:"mt-2 text-sm text-muted-foreground",children:"No saved addresses. Add one at checkout."})]})]})]})]})}function o(){return(0,r.jsx)(i.ProtectedRoute,{children:(0,r.jsx)(n,{})})}e.s(["default",()=>o])}]);