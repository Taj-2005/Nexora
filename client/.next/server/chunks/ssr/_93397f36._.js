module.exports=[38783,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].ReactServerDOMTurbopackClient},51096,a=>{"use strict";var b=a.i(87924);function c({size:a=32,className:c=""}){let d=a/300;return(0,b.jsxs)("span",{className:`relative inline-flex shrink-0 items-center justify-center ${c}`,style:{width:a,height:a},"aria-hidden":!0,children:[(0,b.jsx)("span",{className:"absolute inset-0 rounded-full",style:{backgroundColor:"var(--accent-primary, #00C2B2)"}}),(0,b.jsxs)("span",{className:"absolute flex items-center justify-center",style:{width:140*d,height:200*d,left:160*d*.5,top:100*d*.5},children:[(0,b.jsx)("span",{className:"absolute rounded-full bg-white",style:{width:80*d,height:80*d,left:30*d,top:0}}),(0,b.jsx)("span",{className:"absolute rounded-full",style:{width:50*d,height:50*d,left:10*d,top:40*d,backgroundColor:"var(--accent-primary, #00C2B2)"}}),(0,b.jsx)("span",{className:"absolute rounded-lg bg-white",style:{width:50*d,height:100*d,left:45*d,top:50*d,transform:"rotate(-15deg)",borderRadius:25*d}}),(0,b.jsx)("span",{className:"absolute rounded-full bg-white",style:{width:80*d,height:80*d,left:30*d,bottom:0}}),(0,b.jsx)("span",{className:"absolute rounded-full",style:{width:50*d,height:50*d,left:70*d,top:110*d,backgroundColor:"var(--accent-primary, #00C2B2)"}})]})]})}a.s(["Logo",()=>c])},81579,15049,10924,89990,a=>{"use strict";var b=a.i(72131);function c(a,d=400){let[e,f]=(0,b.useState)(a);return(0,b.useEffect)(()=>{let b=setTimeout(()=>f(a),d);return()=>clearTimeout(b)},[a,d]),e}function d(a){let b=a.trim();return b?b.length<2?{valid:!1,message:"Full name must be at least 2 characters"}:{valid:!0,message:""}:{valid:!1,message:"Full name is required"}}function e(a){let b=a.trim();return b?b.includes("@")?{valid:!0,message:""}:{valid:!1,message:"Email must include @"}:{valid:!1,message:"Email is required"}}a.s(["useDebounce",()=>c],81579);let f=/[A-Z]/,g=/[a-z]/,h=/[!@#$%^&*()_+\-=[\]{};':"\\|,.<>/?]/;function i(a){return a?a.length<8?{valid:!1,message:"Password must be at least 8 characters"}:f.test(a)?g.test(a)?h.test(a)?{valid:!0,message:""}:{valid:!1,message:"Password must contain at least 1 special character"}:{valid:!1,message:"Password must contain at least 1 lowercase letter"}:{valid:!1,message:"Password must contain at least 1 uppercase letter"}:{valid:!1,message:"Password is required"}}function j(a,b){return a?a!==b?{valid:!1,message:"Passwords do not match"}:{valid:!0,message:""}:{valid:!1,message:"Please confirm your password"}}a.s(["validateConfirmPassword",()=>j,"validateEmail",()=>e,"validateFullName",()=>d,"validatePassword",()=>i],15049);var k=a.i(87924),l=a.i(38246),m=a.i(51096);function n({children:a,title:b,alternateHref:c,alternateLabel:d,alternatePrompt:e}){return(0,k.jsx)("div",{className:"flex min-h-screen flex-col items-center justify-center bg-muted px-4 py-12",children:(0,k.jsxs)("div",{className:"w-full max-w-[400px]",children:[(0,k.jsxs)(l.default,{href:"/",className:"mb-8 flex items-center justify-center gap-3 font-heading text-xl font-semibold tracking-tight text-primary focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:ring-accent","aria-label":"ShopSmart — Home",children:[(0,k.jsx)(m.Logo,{size:40}),"ShopSmart"]}),(0,k.jsx)("h1",{className:"sr-only",children:b}),(0,k.jsxs)("div",{className:"rounded-[var(--radius-lg)] border border-border bg-surface p-6 shadow-sm sm:p-8",children:[(0,k.jsx)("h2",{className:"font-heading text-2xl font-bold tracking-tight text-primary",children:b}),a]}),(0,k.jsxs)("p",{className:"mt-6 text-center text-sm text-muted-foreground",children:[e," ",(0,k.jsx)(l.default,{href:c,className:"font-medium text-accent underline decoration-accent/30 underline-offset-2 hover:decoration-accent focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:ring-accent",children:d})]})]})})}function o({label:a,type:c,value:d,onChange:e,error:f,hasShake:g,autoComplete:h,required:i=!0,onBlur:j,onFocus:l,showPasswordToggle:m=!1}){let n=(0,b.useId)(),[o,p]=(0,b.useState)(!1),q=!!f,r="password"===c&&m&&o?"text":c;return(0,k.jsxs)("div",{className:"space-y-1.5",children:[(0,k.jsxs)("label",{htmlFor:n,className:"block text-sm font-medium text-primary",children:[a,i&&(0,k.jsx)("span",{className:"text-[var(--color-error)]","aria-hidden":!0,children:" *"})]}),(0,k.jsxs)("div",{className:"relative",children:[(0,k.jsx)("input",{id:n,type:r,value:d,onChange:a=>e(a.target.value),onBlur:j,onFocus:l,autoComplete:h,required:i,"aria-required":i,"aria-invalid":q,"aria-describedby":q?`${n}-error`:void 0,className:`block w-full rounded-[var(--radius-sm)] border bg-surface px-4 py-3 text-primary transition-colors placeholder:text-muted-foreground focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:ring-accent disabled:cursor-not-allowed disabled:opacity-60 ${m&&"password"===c?"pr-12":""} ${q?"border-[var(--color-error)] focus-visible:ring-[var(--color-error)]":"border-border focus-visible:ring-accent"} ${g?"input-shake":""}`}),m&&"password"===c&&(0,k.jsx)("button",{type:"button",onClick:()=>p(a=>!a),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-primary focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:ring-accent rounded p-1","aria-label":o?"Hide password":"Show password",children:o?(0,k.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2","aria-hidden":!0,children:[(0,k.jsx)("path",{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"}),(0,k.jsx)("line",{x1:"1",y1:"1",x2:"23",y2:"23"})]}):(0,k.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2","aria-hidden":!0,children:[(0,k.jsx)("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),(0,k.jsx)("circle",{cx:"12",cy:"12",r:"3"})]})})]}),q&&(0,k.jsx)("p",{id:`${n}-error`,role:"alert",className:"text-sm text-[var(--color-error)]",children:f})]})}a.s(["AuthFormLayout",()=>n],10924),a.s(["AuthFormField",()=>o],89990)},83694,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(38246),e=a.i(50944),f=a.i(81579),g=a.i(15049),h=a.i(10924),i=a.i(89990),j=a.i(19817);function k(){let a=(0,e.useRouter)(),k=(0,e.useSearchParams)().get("redirect")??"/home",{login:l,isAuthenticated:m,isLoading:n,error:o,clearError:p}=(0,j.useAuth)(),[q,r]=(0,c.useState)(""),[s,t]=(0,c.useState)(""),[u,v]=(0,c.useState)(!1),[w,x]=(0,c.useState)(!1),[y,z]=(0,c.useState)(!1),A=(0,f.useDebounce)(q,400),B=(0,f.useDebounce)(s,400),C=(0,g.validateEmail)(A),D=(0,g.validatePassword)(B),E=C.valid,F=D.valid,G=(w||y)&&!E,H=y&&E&&!F,I=G?C.message:"",J=H?D.message:"",K=E&&F;(0,c.useEffect)(()=>{m&&a.replace(k)},[m,k,a]),(0,c.useEffect)(()=>{p()},[p]);let L=(0,c.useCallback)(async b=>{if(b.preventDefault(),K&&!n)try{await l(q.trim(),s,u),a.replace(k)}catch{}},[K,n,l,q,s,u,k,a]);return(0,b.jsx)(h.AuthFormLayout,{title:"Log in",alternateHref:"/signup",alternateLabel:"Create an account",alternatePrompt:"Don't have an account?",children:(0,b.jsxs)("form",{onSubmit:L,className:"mt-6 space-y-5",children:[o&&(0,b.jsx)("div",{role:"alert",className:"rounded-[var(--radius-sm)] border border-[var(--color-error)] bg-[var(--color-error)]/10 px-4 py-3 text-sm text-[var(--color-error)]",children:o}),(0,b.jsx)(i.AuthFormField,{label:"Email",type:"email",value:q,onChange:a=>{r(a),x(!0)},onBlur:()=>x(!0),error:I,hasShake:!!I,autoComplete:"email"}),(0,b.jsx)(i.AuthFormField,{label:"Password",type:"password",value:s,onChange:a=>{t(a),z(!0)},onBlur:()=>z(!0),onFocus:()=>x(!0),error:J,hasShake:!!J,autoComplete:"current-password",showPasswordToggle:!0}),(0,b.jsxs)("div",{className:"flex items-center justify-between gap-4",children:[(0,b.jsxs)("label",{className:"flex items-center gap-2 text-sm text-primary",children:[(0,b.jsx)("input",{type:"checkbox",checked:u,onChange:a=>v(a.target.checked),className:"h-4 w-4 rounded border-border text-accent focus-visible:ring-accent"}),"Remember me"]}),(0,b.jsx)(d.default,{href:"/forgot-password",className:"text-sm font-medium text-accent hover:underline focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:ring-accent",children:"Forgot password?"})]}),(0,b.jsx)("div",{className:"pt-1",children:(0,b.jsx)("button",{type:"submit",disabled:!K||n,className:"w-full rounded-[var(--radius)] bg-accent py-3 text-base font-medium text-on-accent transition-colors hover:bg-accent/90 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:ring-accent disabled:cursor-not-allowed disabled:opacity-50 disabled:hover:bg-accent",children:n?"Signing in…":"Log in"})}),(0,b.jsxs)("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center sm:justify-center sm:gap-4",children:[(0,b.jsx)("span",{className:"text-center text-sm text-muted-foreground",children:"Or continue with"}),(0,b.jsxs)("div",{className:"flex justify-center gap-3",children:[(0,b.jsx)("button",{type:"button",disabled:!0,className:"rounded-[var(--radius-sm)] border border-border bg-surface px-4 py-2.5 text-sm font-medium text-muted-foreground opacity-60",children:"Google (coming soon)"}),(0,b.jsx)("button",{type:"button",disabled:!0,className:"rounded-[var(--radius-sm)] border border-border bg-surface px-4 py-2.5 text-sm font-medium text-muted-foreground opacity-60",children:"GitHub (coming soon)"})]})]}),(0,b.jsx)("p",{className:"text-center text-sm text-muted-foreground",children:(0,b.jsx)(d.default,{href:"/home",className:"text-accent underline decoration-accent/30 underline-offset-2 hover:decoration-accent focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:ring-accent",children:"Continue as guest"})})]})})}function l(){return(0,b.jsx)(c.Suspense,{fallback:(0,b.jsx)("div",{className:"flex min-h-screen items-center justify-center bg-muted",children:(0,b.jsx)("div",{className:"h-8 w-8 animate-spin rounded-full border-2 border-accent border-t-transparent"})}),children:(0,b.jsx)(k,{})})}a.s(["default",()=>l])}];

//# sourceMappingURL=_93397f36._.js.map