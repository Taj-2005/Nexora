{"version":3,"sources":["../../../../node_modules/next/src/server/route-modules/app-page/vendored/ssr/react-server-dom-turbopack-client.ts","../../../../components/ui/logo.tsx","../../../../components/auth/protected-route.tsx","../../../../app/admin/layout.tsx","../../../../components/admin/admin-sidebar.tsx","../../../../components/admin/admin-breadcrumb.tsx"],"sourcesContent":["module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.ReactServerDOMTurbopackClient\n","interface LogoProps {\n  size?: number;\n  className?: string;\n}\n\nconst LOGO_BASE_SIZE = 300;\n\nexport function Logo({ size = 32, className = \"\" }: LogoProps) {\n  const s = size / LOGO_BASE_SIZE;\n  return (\n    <span\n      className={`relative inline-flex shrink-0 items-center justify-center ${className}`}\n      style={{ width: size, height: size }}\n      aria-hidden\n    >\n      <span\n        className=\"absolute inset-0 rounded-full\"\n        style={{ backgroundColor: \"var(--accent-primary, #00C2B2)\" }}\n      />\n      <span\n        className=\"absolute flex items-center justify-center\"\n        style={{\n          width: 140 * s,\n          height: 200 * s,\n          left: (LOGO_BASE_SIZE - 140) * s * 0.5,\n          top: (LOGO_BASE_SIZE - 200) * s * 0.5,\n        }}\n      >\n        <span\n          className=\"absolute rounded-full bg-white\"\n          style={{\n            width: 80 * s,\n            height: 80 * s,\n            left: 30 * s,\n            top: 0,\n          }}\n        />\n        <span\n          className=\"absolute rounded-full\"\n          style={{\n            width: 50 * s,\n            height: 50 * s,\n            left: 10 * s,\n            top: 40 * s,\n            backgroundColor: \"var(--accent-primary, #00C2B2)\",\n          }}\n        />\n        <span\n          className=\"absolute rounded-lg bg-white\"\n          style={{\n            width: 50 * s,\n            height: 100 * s,\n            left: 45 * s,\n            top: 50 * s,\n            transform: \"rotate(-15deg)\",\n            borderRadius: 25 * s,\n          }}\n        />\n        <span\n          className=\"absolute rounded-full bg-white\"\n          style={{\n            width: 80 * s,\n            height: 80 * s,\n            left: 30 * s,\n            bottom: 0,\n          }}\n        />\n        <span\n          className=\"absolute rounded-full\"\n          style={{\n            width: 50 * s,\n            height: 50 * s,\n            left: 70 * s,\n            top: 110 * s,\n            backgroundColor: \"var(--accent-primary, #00C2B2)\",\n          }}\n        />\n      </span>\n    </span>\n  );\n}\n","\"use client\";\n\nimport { useEffect, type ReactNode } from \"react\";\nimport { useRouter, usePathname } from \"next/navigation\";\nimport { useAuth } from \"@/context/auth-context\";\nimport type { UserRole } from \"@/types/auth\";\n\ntype ProtectedRouteProps = {\n  children: ReactNode;\n  requiredRole?: UserRole | UserRole[];\n  fallback?: ReactNode;\n};\n\nexport function ProtectedRoute({\n  children,\n  requiredRole,\n  fallback = null,\n}: ProtectedRouteProps) {\n  const router = useRouter();\n  const pathname = usePathname();\n  const { user, isAuthenticated, isInitialized, isLoading } = useAuth();\n\n  const allowed = (() => {\n    if (!requiredRole) return true;\n    if (!user) return false;\n    const roles = Array.isArray(requiredRole) ? requiredRole : [requiredRole];\n    return roles.includes(user.role);\n  })();\n\n  useEffect(() => {\n    if (!isInitialized) return;\n    if (!isAuthenticated) {\n      router.replace(`/login?redirect=${encodeURIComponent(pathname ?? \"/\")}`);\n      return;\n    }\n    if (!allowed) {\n      router.replace(user?.role === \"customer\" ? \"/home\" : \"/admin\");\n      return;\n    }\n  }, [isInitialized, isAuthenticated, allowed, pathname, router, user?.role]);\n\n  if (!isInitialized || isLoading) {\n    return fallback ?? <ProtectedRouteSkeleton />;\n  }\n  if (!isAuthenticated || !allowed) {\n    return fallback ?? <ProtectedRouteSkeleton />;\n  }\n  return <>{children}</>;\n}\n\nexport function ProtectedRouteSkeleton() {\n  return (\n    <div className=\"flex min-h-[50vh] items-center justify-center bg-muted/30\">\n      <div className=\"h-8 w-8 animate-spin rounded-full border-2 border-accent border-t-transparent\" aria-hidden />\n      <span className=\"sr-only\">Loadingâ€¦</span>\n    </div>\n  );\n}\n\nexport function AdminRoute({ children, fallback }: { children: ReactNode; fallback?: ReactNode }) {\n  return (\n    <ProtectedRoute requiredRole={[\"admin\", \"super_admin\"]} fallback={fallback}>\n      {children}\n    </ProtectedRoute>\n  );\n}\n\nexport function SuperAdminRoute({ children, fallback }: { children: ReactNode; fallback?: ReactNode }) {\n  return (\n    <ProtectedRoute requiredRole=\"super_admin\" fallback={fallback}>\n      {children}\n    </ProtectedRoute>\n  );\n}\n","\"use client\";\n\nimport { ProtectedRoute } from \"@/components/auth/protected-route\";\nimport { AdminSidebar } from \"@/components/admin/admin-sidebar\";\nimport { AdminBreadcrumb } from \"@/components/admin/admin-breadcrumb\";\n\nexport default function AdminLayout({\n  children,\n}: Readonly<{ children: React.ReactNode }>) {\n  return (\n    <ProtectedRoute requiredRole={[\"admin\", \"super_admin\"]}>\n      <div className=\"min-h-screen bg-muted\">\n        <AdminSidebar />\n        <main id=\"main-content\" className=\"pl-64 min-w-0\">\n          <header className=\"sticky top-0 z-30 flex h-14 items-center gap-4 border-b border-border bg-surface px-6\">\n            <AdminBreadcrumb />\n          </header>\n          <div className=\"p-6\">{children}</div>\n        </main>\n      </div>\n    </ProtectedRoute>\n  );\n}\n","\"use client\";\n\nimport Link from \"next/link\";\nimport { usePathname, useRouter } from \"next/navigation\";\nimport { Logo } from \"@/components/ui/logo\";\nimport { useAuth } from \"@/context/auth-context\";\n\nconst NAV = [\n  { href: \"/admin\", label: \"Dashboard\" },\n  { href: \"/admin/products\", label: \"Products\" },\n  { href: \"/admin/orders\", label: \"Orders\" },\n  { href: \"/admin/users\", label: \"Users\" },\n  { href: \"/admin/reviews\", label: \"Reviews\" },\n  { href: \"/admin/settings\", label: \"Settings\" },\n];\n\nexport function AdminSidebar() {\n  const pathname = usePathname();\n  const router = useRouter();\n  const { user, logout } = useAuth();\n\n  const handleLogout = async () => {\n    await logout();\n    router.replace(\"/login\");\n  };\n\n  return (\n    <aside\n      className=\"fixed left-0 top-0 z-40 flex h-screen w-64 flex-col border-r border-border bg-surface\"\n      aria-label=\"Admin navigation\"\n    >\n      <div className=\"flex h-14 items-center gap-2 border-b border-border px-4\">\n        <Logo size={28} />\n        <span className=\"font-heading font-semibold text-primary\">Admin</span>\n      </div>\n      <nav className=\"flex-1 overflow-y-auto p-3\">\n        <ul className=\"space-y-0.5\">\n          {NAV.map(({ href, label }) => {\n            const active = pathname === href || (href !== \"/admin\" && pathname?.startsWith(href));\n            return (\n              <li key={href}>\n                <Link\n                  href={href}\n                  className={`block rounded-[var(--radius-sm)] px-3 py-2.5 text-sm font-medium transition-colors focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:ring-accent ${\n                    active\n                      ? \"bg-accent/10 text-accent\"\n                      : \"text-muted-foreground hover:bg-muted hover:text-primary\"\n                  }`}\n                >\n                  {label}\n                </Link>\n              </li>\n            );\n          })}\n        </ul>\n      </nav>\n      <div className=\"border-t border-border p-3\">\n        <p className=\"truncate text-xs text-muted-foreground\">{user?.email}</p>\n        <p className=\"truncate text-xs font-medium text-primary\">{user?.fullName}</p>\n        <div className=\"mt-2 flex gap-2\">\n          <Link\n            href=\"/home\"\n            className=\"text-xs font-medium text-accent hover:underline\"\n          >\n            Store\n          </Link>\n          <button\n            type=\"button\"\n            onClick={handleLogout}\n            className=\"text-xs font-medium text-muted-foreground hover:text-primary\"\n          >\n            Log out\n          </button>\n        </div>\n      </div>\n    </aside>\n  );\n}\n","\"use client\";\n\nimport Link from \"next/link\";\nimport { usePathname } from \"next/navigation\";\n\nexport function AdminBreadcrumb() {\n  const pathname = usePathname();\n  const segments = pathname?.split(\"/\").filter(Boolean) ?? [];\n  const crumbs = segments.map((segment, i) => {\n    const href = \"/\" + segments.slice(0, i + 1).join(\"/\");\n    const label = segment === \"admin\" ? \"Dashboard\" : segment.charAt(0).toUpperCase() + segment.slice(1);\n    return { href, label };\n  });\n\n  return (\n    <nav aria-label=\"Breadcrumb\" className=\"flex items-center gap-2 text-sm\">\n      {crumbs.map((crumb, i) => (\n        <span key={crumb.href} className=\"flex items-center gap-2\">\n          {i > 0 && (\n            <span className=\"text-muted-foreground\" aria-hidden>\n              /\n            </span>\n          )}\n          {i === crumbs.length - 1 ? (\n            <span className=\"font-medium text-primary\">{crumb.label}</span>\n          ) : (\n            <Link\n              href={crumb.href}\n              className=\"text-muted-foreground hover:text-primary focus-visible:outline focus-visible:ring-accent\"\n            >\n              {crumb.label}\n            </Link>\n          )}\n        </span>\n      ))}\n    </nav>\n  );\n}\n"],"names":["module","exports","require","vendored","ReactServerDOMTurbopackClient"],"mappings":"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","ignoreList":[0]}